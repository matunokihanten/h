<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ÊôÇË®àË™≠„ÅøÂèñ„Çä„Ç≤„Éº„É† NEO</title>
  <style>
    :root {
      --glow-color: #00ffff;
      --primary-text: #e0e0e0;
      --dark-bg: #121828;
      --accent-color: #ff55a5;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      height: 100%;
      width: 100%;
      overflow: hidden;
      font-family: 'Segoe UI', 'Roboto', sans-serif;
      background: linear-gradient(to bottom, #1a2a3a, var(--dark-bg));
      color: var(--primary-text);
      display: flex;
      flex-direction: column;
      justify-content: space-evenly;
      align-items: center;
    }
    .header { text-align: center; }
    .score {
      font-size: clamp(0.8rem, 2.5vw, 1rem);
      opacity: 0.9;
    }
    .clock-container {
      width: min(340px, 75vmin);
      height: min(340px, 75vmin);
      position: relative;
      flex-shrink: 0;
    }
    .clock {
      width: 100%; height: 100%; border-radius: 50%;
      background: radial-gradient(circle, #2a3a4a, #1a2a3a);
      border: 3px solid rgba(0,255,255,0.3);
      box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 0 0 15px var(--glow-color);
      position: relative;
    }
    .number {
      position: absolute; top: 50%; left: 50%;
      transform-origin: center;
      font-size: clamp(0.8rem, 3.5vmin, 1.2rem);
      color: var(--glow-color); text-shadow: 0 0 3px var(--glow-color);
    }
    .clock.numbers-hidden .number { display: none; }
    .hand {
      position: absolute; transform-origin: bottom center;
      left: 50%; bottom: 50%; border-radius: 5px; background: #fff;
    }
    .hour-hand { width: 6px; height: 28%; margin-left: -3px; z-index: 2; }
    .minute-hand { width: 4px; height: 38%; margin-left: -2px; z-index: 3; }
    .second-hand {
      width: 2px; height: 42%; margin-left: -1px; z-index: 4;
      background: var(--accent-color); box-shadow: 0 0 5px var(--accent-color);
    }
    .center-dot {
      position: absolute; width: 14px; height: 14px;
      background: var(--glow-color); border: 2px solid var(--dark-bg);
      border-radius: 50%; top: 50%; left: 50%;
      transform: translate(-50%, -50%); z-index: 5;
    }
    .display-options {
      display: flex; gap: 10px; font-size: clamp(0.7rem, 2vw, 0.85rem);
      background: rgba(0,0,0,0.3); padding: 4px 10px; border-radius: 15px;
    }
    .display-options label { cursor: pointer; white-space: nowrap; }
    .controls { width: 100%; max-width: 320px; text-align: center; flex-shrink: 0; }
    .time-input {
      display: flex; justify-content: center; gap: 5px; margin-bottom: 4px;
      font-size: clamp(0.8rem, 2.4vw, 0.9rem);
    }
    .time-field {
      width: 42px; padding: 5px; font-size: clamp(0.9rem, 4vw, 1rem);
      background: #1a2a3a; color: var(--primary-text);
      border: 1px solid var(--glow-color); border-radius: 6px;
      text-align: center;
    }
    .active-field { border: 2px solid var(--accent-color) !important; }
    .number-pad {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;
      margin: 5px auto; max-width: 180px;
    }
    .num-btn {
      padding: 8px 0; font-size: clamp(1rem, 4vw, 1.1rem); font-weight: 700;
      border-radius: 6px; background: #3a4a5a; color: #fff;
      border: none; cursor: pointer;
    }
    .num-btn:active { background: #4a5a6a; }
    .buttons { display: flex; gap: 8px; justify-content: center; margin-top: 4px; }
    .btn {
      padding: 6px 12px; border: none; border-radius: 20px;
      font-size: clamp(0.9rem, 3.5vw, 1rem); cursor: pointer; font-weight: 700;
    }
    .btn-primary { background: var(--accent-color); color: #fff; }
    .btn-secondary { background: #3a4a5a; color: #fff; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .result {
      margin-top: 4px; font-weight: 700; min-height: 22px;
      display: flex; justify-content: center; align-items: center;
      font-size: clamp(0.85rem, 3vw, 1rem);
    }
    .correct { color: #00ffaa; }
    .incorrect { color: #ff5555; }
  </style>
</head>
<body>
  <div class="header">
    <div class="score">Ê≠£Ëß£: <span id="correct">0</span> / ÂïèÈ°å: <span id="total">0</span></div>
  </div>
  <div class="clock-container">
    <div class="clock" id="clock">
      <div class="hand hour-hand" id="hourHand"></div>
      <div class="hand minute-hand" id="minuteHand"></div>
      <div class="hand second-hand" id="secondHand"></div>
      <div class="center-dot"></div>
    </div>
  </div>
  <div class="display-options">
    <label><input type="radio" name="numberDisplay" value="show" onchange="toggleNumbers()"> Êï∞Â≠ó„ÅÇ„Çä</label>
    <label><input type="radio" name="numberDisplay" value="hide" onchange="toggleNumbers()" checked> Êï∞Â≠ó„Å™„Åó</label>
  </div>
  <div class="controls">
    <div class="time-input">
      <input id="hourField" class="time-field" maxlength="2" readonly>ÊôÇ
      <input id="minuteField" class="time-field" maxlength="2" readonly>ÂàÜ
      <input id="secondField" class="time-field" maxlength="2" readonly>Áßí
    </div>
    <div class="number-pad">
      <button class="num-btn">1</button><button class="num-btn">2</button><button class="num-btn">3</button>
      <button class="num-btn">4</button><button class="num-btn">5</button><button class="num-btn">6</button>
      <button class="num-btn">7</button><button class="num-btn">8</button><button class="num-btn">9</button>
      <button class="num-btn">0</button><button class="num-btn" id="clearBtn">‚Üê</button><button class="num-btn" id="resetBtn">C</button>
    </div>
    <div class="buttons">
      <button id="checkBtn" class="btn btn-primary">Á≠î„ÅàÂêà„Çè„Åõ</button>
      <button id="newProblemBtn" class="btn btn-secondary">Êñ∞„Åó„ÅÑÂïèÈ°å</button>
    </div>
    <div class="result" id="result"></div>
  </div>
  
  <script>
    let currentHour, currentMinute, currentSecond;
    let correctCount = 0, totalCount = 0;
    const hourHand = document.getElementById('hourHand');
    const minuteHand = document.getElementById('minuteHand');
    const secondHand = document.getElementById('secondHand');
    const clock = document.getElementById('clock');
    const result = document.getElementById('result');
    const checkBtn = document.getElementById('checkBtn');
    const newProblemBtn = document.getElementById('newProblemBtn');
    const hourField = document.getElementById('hourField');
    const minuteField = document.getElementById('minuteField');
    const secondField = document.getElementById('secondField');
    const timeFields = [hourField, minuteField, secondField];
    let activeField = hourField;

    timeFields.forEach(f=>{
      f.addEventListener("click", ()=>{
        activeField.classList.remove("active-field");
        activeField=f;
        activeField.classList.add("active-field");
      });
    });
    
    function setActiveField(field) {
        activeField.classList.remove("active-field");
        activeField = field;
        activeField.classList.add("active-field");
    }

    function setClockTime(hour, minute, second){
      const sAng = second*6;
      const mAng = minute*6 + second*0.1;
      const hAng = (hour%12)*30 + minute*0.5 + second*(0.5/60);
      hourHand.style.transform=`rotate(${hAng}deg)`;
      minuteHand.style.transform=`rotate(${mAng}deg)`;
      secondHand.style.transform=`rotate(${sAng}deg)`;
    }

    function newProblem(){
      currentHour = Math.floor(Math.random()*12)+1;
      currentMinute = Math.floor(Math.random()*60);
      currentSecond = Math.floor(Math.random()*60);
      setClockTime(currentHour, currentMinute, currentSecond);
      hourField.value=""; minuteField.value=""; secondField.value="";
      setActiveField(hourField);
    }

    function checkAnswer(){
      checkBtn.disabled=true; newProblemBtn.disabled=true;
      const h=parseInt(hourField.value||"0");
      const m=parseInt(minuteField.value||"0");
      const s=parseInt(secondField.value||"0");
      totalCount++;
      if(h===currentHour && m===currentMinute && s===currentSecond){
        correctCount++; result.textContent="Ê≠£Ëß£ÔºÅüéâ"; result.className="result correct";
      } else {
        result.textContent=`‰∏çÊ≠£Ëß£... Ê≠£Ëß£„ÅØ ${currentHour}ÊôÇ${currentMinute}ÂàÜ${currentSecond}Áßí`;
        result.className="result incorrect";
      }
      document.getElementById('correct').textContent=correctCount;
      document.getElementById('total').textContent=totalCount;
      setTimeout(()=>{ result.textContent=""; result.className="result"; newProblem(); checkBtn.disabled=false; newProblemBtn.disabled=false; },2000);
    }

    checkBtn.addEventListener("click",checkAnswer);
    newProblemBtn.addEventListener("click",()=>{ result.textContent=""; newProblem(); });

    document.querySelectorAll(".num-btn").forEach(b=>{
      b.addEventListener("click",()=>{
        if(b.id==="clearBtn"){ activeField.value=activeField.value.slice(0,-1); return; }
        if(b.id==="resetBtn"){ activeField.value=""; return; }
        if(activeField.value.length<2){ activeField.value+=b.textContent; }
        let val=parseInt(activeField.value||"0");
        if(activeField===hourField && val>12) val=12;
        if(activeField!==hourField && val>59) val=59;
        activeField.value=val.toString();
      });
    });

    function toggleNumbers(){
      const v=document.querySelector('input[name="numberDisplay"]:checked').value;
      clock.classList.toggle('numbers-hidden',v==="hide");
    }

    function initializeGame(){
      clock.classList.add('numbers-hidden');
      const radius=clock.offsetWidth/2;
      for(let i=1;i<=12;i++){
        const a=i*30*Math.PI/180;
        const n=document.createElement('div'); n.className='number'; n.textContent=i;
        const x=Math.sin(a)*(radius*0.82);
        const y=-Math.cos(a)*(radius*0.82);
        n.style.transform=`translate(-50%,-50%) translate(${x}px,${y}px)`; clock.appendChild(n);
      }
      newProblem();
    }
    document.addEventListener("DOMContentLoaded",initializeGame);
  </script>
</body>
</html>
